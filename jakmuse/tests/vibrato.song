; while updating this file, I've noticed a number of defects:
; 1. RELEASE cannot effin work unless you beat around the bush
;    there needs to be some other way to keep the generators limping along
;    with the previously good frequency while R is happening
; 2. Input's triggering RST is stupid, because while I/O happens synchronously
;    on each clock cycle, RST magically signals a new note was triggered
;    before the note actually gets there; RST should be kinda sort of implicit
;    this means rework the Tick* family of functions as well as the I/O
;    functions to pass the reset information along
;    Anyway, bottom line is I gots to gets rids of keeping two Input's around just to support release;
;    The question arises: is R? = max(inputs) or R? = min(inputs) or R? = max(certain inputs) or R? = only_one_certain_input
; 3. time-related constants should be reworked into something predictable
; 4. WT only accepts 0, 1 and -1; lol

SECTION INSTANCES
    OUTPUT {
        IN = [ OFilter ],
        Mixing = Flatten
    }

    Melody Generator {
        IN = [ DelayI1, VibrI1 ],
        RST = DelayI1
        WT = [ 0, 999, 0, -999, 0 ],
        Interpolation = Cosine,
        Glide = 4000
        GlideOnRest = 0 ; try changing this to 1
    }

    DelayI1 Delay {
        IN = [ I1 ],
        RST = I1
        Amount = 0
    }

    OFilter Filter {
        IN = [ Melody ],
        RST = Melody
        A = 500, D = 0, S = 999, R = 400, ResetADSR = 0, InvertADSR = 0,
        Mixing = Cut,
        Low = 22050, High = 0, K = 500
    }

    I1 Input {
        OnRest = RetainValue ; try changing this to Zero
    }

    VibrI1 Filter {
        IN = [ A20HzSine ],
        K = ScaleVibrI1
        Mixing = Cut,
        Low = 22050, High = 0,
        A = 0, D = 0, S = 999, R = 0, ResetADSR = 0, InvertADSR = 0,
    }

    ScaleVibrI1 Filter {
        IN = I1
        K = 45
        Mixing = Cut,
        Low = 22050, High = 0,
        A = 0, D = 0, S = 999, R = 0, ResetADSR = 0, InvertADSR = 0,
    }

    A20HzSine Generator {
        IN = 5
        WT = [ 0, 999, 0, -999, 0 ],
        Interpolation = Cosine,
        Glide = 0
    }
END SECTION

SECTION NOTES
    I1 NOTES {
        Divisor = 2,
        Notes = [ 1A4 1B4 1C#5 1E5 2A5 1- 2A4 1- ]
    }
END SECTION
